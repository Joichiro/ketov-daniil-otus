(function(e){function t(t){for(var n,u,a=t[0],o=t[1],c=t[2],p=0,f=[];p<a.length;p++)u=a[p],Object.prototype.hasOwnProperty.call(s,u)&&s[u]&&f.push(s[u][0]),s[u]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);l&&l(t);while(f.length)f.shift()();return i.push.apply(i,c||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,a=1;a<r.length;a++){var o=r[a];0!==s[o]&&(n=!1)}n&&(i.splice(t--,1),e=u(u.s=r[0]))}return e}var n={},s={app:0},i=[];function u(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,u),r.l=!0,r.exports}u.m=e,u.c=n,u.d=function(e,t,r){u.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},u.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.t=function(e,t){if(1&t&&(e=u(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(u.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)u.d(r,n,function(t){return e[t]}.bind(null,n));return r},u.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return u.d(t,"a",t),t},u.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},u.p="/app/web/d.ketov/vue-verbal-counting/dist/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],o=a.push.bind(a);a.push=t,a=a.slice();for(var c=0;c<a.length;c++)t(a[c]);var l=o;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var n=r("64a9"),s=r.n(n);s.a},"1aea":function(e,t,r){"use strict";var n=r("2c79"),s=r.n(n);s.a},2192:function(e,t,r){},2607:function(e,t,r){},"2c30":function(e,t,r){"use strict";var n=r("4b71"),s=r.n(n);s.a},"2c79":function(e,t,r){},"35a7":function(e,t,r){},"4b71":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},i=[],u=(r("8e6e"),r("ac6a"),r("456d"),r("bd86")),a=r("2f62");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){Object(u["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var l={name:"App",methods:c({},Object(a["b"])(["setLastGameDate"])),beforeMount:function(){null===this.$store.state.lastGameDate&&this.setLastGameDate({amount:Date.now()})}},p=l,f=(r("034f"),r("2877")),m=Object(f["a"])(p,s,i,!1,null,null,null),h=m.exports,b=r("0e44"),d="sum",v="dif",g="mul",y="div",O=[{id:d,title:"Суммирование",sign:"+"},{id:v,title:"Разность",sign:"-"},{id:g,title:"Умножение",sign:"×"},{id:y,title:"Деление",sign:"÷"}],w=3e3,T=60,j=864e5;n["a"].use(a["a"]);var C=new a["a"].Store({state:{lastGameDate:null,time:"3",level:"2",operations:[d],turnCount:0,trueAnswersCount:0},plugins:[Object(b["a"])()],getters:{roundTime:function(e){var t=e.time;return t*T}},mutations:{setLastGameDate:function(e,t){e.lastGameDate=t.amount},setTime:function(e,t){e.time=t.amount},setLevel:function(e,t){e.level=t.amount},setOperations:function(e,t){e.operations=t.amount},setTurnCount:function(e,t){e.turnCount=t.amount},setTrueAnswersCount:function(e,t){e.trueAnswersCount=t.amount}}}),k=r("8c4f"),_=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main-page"},[r("h1",[e._v("Привет!")]),r("p",[e._v("Добро пожаловать на "+e._s(e.setGameDay)+" тренировочный день.")]),r("p",[e._v("Ваш последний результат - решено "+e._s(e.trueAnswersCount)+" из "+e._s(e.turnCount)+".")]),r("p",[e._v("Общая точность "+e._s(e.setAccuracy)+" %.")]),r("Settings",{staticClass:"settings",on:{submit:e.handleSubmit}})],1)},x=[],N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("form",{on:{submit:function(t){return t.preventDefault(),e.$emit("submit",t.target)}}},[r("h2",[e._v("Настройки")]),r("ul",[r("li",[r("Range",{attrs:{"label-text":"Длительность "+e.time+" минут"+e.setTimeLabelTextEnding,id:"time",max:"5"},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1),r("li",[r("Range",{attrs:{"label-text":"Сложность "+e.setLevelTitle,id:"level",max:"3"},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}})],1)]),r("ul",e._l(e.tasks,(function(t){return r("li",{key:t.id},[r("Checkbox",{attrs:{id:t.id,"label-text":t.title,"is-checked":e.checkOperations.indexOf(t.id)>-1}})],1)})),0),r("button",{attrs:{type:"submit"}},[e._v("Играть!")])])},P=[],D=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("label",{attrs:{for:e.id}},[e._v(e._s(e.labelText)+"\n    "),r("input",{attrs:{id:e.id,name:e.id,checked:"checked",type:"checkbox"},domProps:{value:e.isChecked},on:{input:function(t){return e.$emit("input",t.target.checked)}}})])])},S=[],$={name:"Checkbox",props:{id:String,labelText:String,isChecked:Boolean}},I=$,A=(r("6f0a"),Object(f["a"])(I,D,S,!1,null,"46c2a0a6",null)),E=A.exports,M=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("input",{attrs:{id:e.id,type:"range",name:e.id,min:"1",max:e.max,step:"1"},domProps:{value:e.value},on:{change:function(t){return e.$emit("change",t.target.value)}}}),r("p",[r("label",{attrs:{for:e.id}},[e._v(e._s(e.labelText))])])])},G=[],K={name:"Range",model:{event:"change"},props:{id:String,labelText:String,max:String,value:String}},L=K,R=(r("ea13"),Object(f["a"])(L,M,G,!1,null,"2b242432",null)),F=R.exports,V={id:"Settings",components:{Checkbox:E,Range:F},data:function(){return{time:this.$store.state.time,level:this.$store.state.level,tasks:O,checkOperations:this.$store.state.operations}},computed:{setTimeLabelTextEnding:function(){switch(this.time){case"1":return"а";case"5":return"";default:return"ы"}},setLevelTitle:function(){switch(this.level){case"1":return"легкая";case"3":return"трудная";default:return"средняя"}}}},B=V,J=(r("fc24"),Object(f["a"])(B,N,P,!1,null,"79cdd1bb",null)),U=J.exports;function W(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function q(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?W(Object(r),!0).forEach((function(t){Object(u["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var z={id:"MainPage",components:{Settings:U},data:function(){return{turnCount:this.$store.state.turnCount,trueAnswersCount:this.$store.state.trueAnswersCount,lastGameDate:this.$store.state.lastGameDate}},computed:{setGameDay:function(){return Math.floor((Date.now()-this.lastGameDate)/j)+1},setAccuracy:function(){return this.turnCount&&this.trueAnswersCount?Math.floor(this.trueAnswersCount/this.turnCount*100):0}},methods:q(q({},Object(a["b"])(["setTime","setLevel","setOperations"])),{},{handleSubmit:function(e){var t=new FormData(e),r=t.get("time"),n=t.get("level"),s=O.map((function(e){var r=e.id;if(null!==t.get(r))return r})).filter((function(e){return e}));this.setTime({amount:r}),this.setLevel({amount:n}),this.setOperations({amount:s}),s.length>0&&this.$router.push("/game")}})},H=z,Q=(r("f3f1"),Object(f["a"])(H,_,x,!1,null,"093fa882",null)),X=Q.exports,Y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("button",{on:{click:e.stop}},[e._v("× Отмена")]),r("Timer",{attrs:{"round-time":e.roundTime,"current-time":e.currentTime}}),r("GameDisplay",{attrs:{operation:e.currentOperation,"user-input-color":e.userInputColor,"user-answer":e.userAnswer,"first-number":e.firstNumber,"result-number":e.resultNumber}}),r("Keyboard",{attrs:{"handle-key-click":e.handleKeyClick,pause:e.pause}})],1)},Z=[],ee=(r("28a5"),r("14b9"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"timer",class:{blink:e.currentTime<10},style:"background: linear-gradient(to right, #f6f6f6 "+e.barValue+"%, #e2f5ec "+e.barValue+"%)"},[e._v("\n    "+e._s(e.timeToView)+"\n")])}),te=[],re=(r("c5f6"),{name:"Timer",props:{isWorked:Boolean,roundTime:Number,currentTime:Number},computed:{timeToView:function(){var e={minute:"2-digit",second:"2-digit"},t=new Intl.DateTimeFormat("en-US",e).format,r=new Date(1e3*this.currentTime);return t(r)},barValue:function(){return Math.floor(100*(this.roundTime-this.currentTime)/this.roundTime)}}}),ne=re,se=(r("2c30"),Object(f["a"])(ne,ee,te,!1,null,"6e86ad14",null)),ie=se.exports,ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"keyboard"},e._l(e.keyTitles,(function(t,n){return r("div",{key:n,staticClass:"key"},[r("RoundKey",{attrs:{"key-title":t,disabled:e.pause},on:{handleKeyClick:e.handleKeyClick}})],1)})),0)},ae=[],oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",{class:[e.roundKeyClass,e.getClassForColor],attrs:{disabled:e.disabled},on:{click:function(t){return e.$emit("handleKeyClick",e.keyTitle)}}},[e._v("\n    "+e._s(e.keyTitle)+"\n")])},ce=[],le={name:"RoundKey",props:{keyTitle:String,disabled:Boolean},data:function(){return{numberColorClass:"green",stringColorClass:"black",roundKeyClass:"round-key"}},computed:{getClassForColor:function(){return""===this.keyTitle?"blank":parseInt(this.keyTitle)?"orange":"grey"}}},pe=le,fe=(r("cba0"),Object(f["a"])(pe,oe,ce,!1,null,"045eeb08",null)),me=fe.exports,he={name:"Keyboard",components:{RoundKey:me},props:{handleKeyClick:Function,pause:Boolean},data:function(){return{keyTitles:["1","2","3","<","4","5","6","","7","8","9","?","","0","","="]}},methods:{}},be=he,de=(r("578d"),Object(f["a"])(be,ue,ae,!1,null,"9abf634a",null)),ve=de.exports,ge=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"game-display"},[r("p",[r("span",[e._v(e._s(e.firstNumber))]),r("span",[e._v(" "+e._s(e.setSign)+" ")]),r("span",{style:"color: "+e.userInputColor},[e._v(e._s(e.userAnswer))]),r("span",[e._v(" = ")]),r("span",[e._v(e._s(e.resultNumber)+" ")]),r("span",[e._v("? ")])])])},ye=[],Oe={name:"GameDisplay",props:{operation:String,userAnswer:String,firstNumber:Number,resultNumber:Number,userInputColor:String},computed:{setSign:function(){var e=this;return O.filter((function(t){var r=t.id;return r===e.operation}))[0].sign}}},we=Oe,Te=(r("a80e"),Object(f["a"])(we,ge,ye,!1,null,"27e2aaca",null)),je=Te.exports;function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(r),!0).forEach((function(t){Object(u["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _e={name:"GamePage",components:{GameDisplay:je,Timer:ie,Keyboard:ve},data:function(){return{roundTime:this.$store.getters.roundTime,level:this.$store.state.level,operations:this.$store.state.operations,currentOperation:d,currentTime:0,timer:null,userInput:[],firstNumber:0,secondNumber:0,resultNumber:0,turnCount:0,trueAnswersCount:0,pause:!1,userInputColor:"lightgray"}},computed:{userAnswer:function(){var e=this.level-this.userInput.length;return("_".repeat(e)+this.userInput.join("")).substring(0,this.level)}},methods:ke(ke({},Object(a["b"])(["setTurnCount","setTrueAnswersCount"])),{},{start:function(){var e=this;this.timer||(this.timer=setInterval((function(){e.currentTime>0?e.pause||e.currentTime--:(e.pause=!0,e.setTurnCount({amount:e.turnCount}),e.setTrueAnswersCount({amount:e.trueAnswersCount}),setTimeout(e.stop(),w))}),1e3))},stop:function(){clearInterval(this.timer),this.$router.push("/")},handleKeyClick:function(e){this.userInput.length<this.level&&/^\d/.test(e)&&this.userInput.push(e),"<"===e&&this.userInput.length&&this.userInput.pop(),"?"===e&&(this.userInput=this.secondNumber.toFixed().split(""),this.userInputColor="#35495e",this.pause=!0,setTimeout(this.generateTask,w)),"="===e&&this.userInput.length>0&&(this.checkAnswer()?(this.trueAnswersCount++,this.userInputColor="#41b883"):this.userInputColor="red",this.pause=!0,setTimeout(this.generateTask,w))},generateTask:function(){if(this.pause=!1,!(this.currentTime<5)){this.turnCount++;var e=Math.floor(Math.random()*this.operations.length);this.currentOperation=this.operations[e],this.userInput=[],this.userInputColor="lightgray";var t=Math.pow(10,this.level)-2;this.prepareTask(t)}},prepareTask:function(e){var t;switch(this.firstNumber=Math.floor(Math.random()*e)+1,this.secondNumber=Math.floor(Math.random()*e)+1,this.currentOperation){case d:return void(this.resultNumber=this.firstNumber+this.secondNumber);case v:return t=this.firstNumber,this.resultNumber=this.firstNumber+this.secondNumber,this.firstNumber=this.resultNumber,void(this.resultNumber=t);case g:return void(this.resultNumber=this.firstNumber*this.secondNumber);case y:return t=this.firstNumber,this.resultNumber=this.firstNumber*this.secondNumber,this.firstNumber=this.resultNumber,void(this.resultNumber=t)}},checkAnswer:function(){return parseInt(this.userInput.join(""))===this.secondNumber}}),mounted:function(){this.currentTime=this.roundTime,this.generateTask(),this.start()}},xe=_e,Ne=(r("1aea"),Object(f["a"])(xe,Y,Z,!1,null,"4fb4a4ea",null)),Pe=Ne.exports;n["a"].use(k["a"]);var De=new k["a"]({mode:"history",routes:[{path:"/",name:"main",component:X},{path:"/game",name:"game",component:Pe}]});r("f5df");n["a"].config.productionTip=!1,new n["a"]({el:"#app",store:C,router:De,render:function(e){return e(h)}})},"578d":function(e,t,r){"use strict";var n=r("d39c"),s=r.n(n);s.a},"595a":function(e,t,r){},"64a9":function(e,t,r){},"6f0a":function(e,t,r){"use strict";var n=r("9b35"),s=r.n(n);s.a},"9b35":function(e,t,r){},a80e:function(e,t,r){"use strict";var n=r("35a7"),s=r.n(n);s.a},cba0:function(e,t,r){"use strict";var n=r("2192"),s=r.n(n);s.a},cfc7:function(e,t,r){},d39c:function(e,t,r){},ea13:function(e,t,r){"use strict";var n=r("595a"),s=r.n(n);s.a},f3f1:function(e,t,r){"use strict";var n=r("cfc7"),s=r.n(n);s.a},fc24:function(e,t,r){"use strict";var n=r("2607"),s=r.n(n);s.a}});
//# sourceMappingURL=app.8b41297a.js.map